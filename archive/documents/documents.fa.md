[read in english](documents.md)
<div dir='rtl'>
## معرفی پروژه
پروژه خزنده دیجی‌کالا، یک ابزار استخراج اطلاعات از سایت فروشگاهی دیجی‌کالا است. این پروژه به شما امکان می‌دهد تا اطلاعات مربوط به فروشندگان، محصولات هر فروشنده و جزئیات کامل هر محصول را استخراج کرده و در یک دیتابیس ذخیره کنید. علاوه بر این، این پروژه امکان دریافت خروجی اطلاعات به فرمت فایل Excel را نیز فراهم می‌کند.

با توجه به اهمیت داشتن دسترسی به یک پایگاه داده‌ جامع از اطلاعات فروشندگان و محصولات، تصمیم به توسعه این پروژه گرفتم. این پایگاه داده می‌تواند به عنوان منبعی برای یادگیری ماشین، تحلیل داده‌ها و توسعه پروژه‌های متنوع استفاده شود. اولین قدم در این راه، توسعه بخش خزنده و امکانات ذخیره‌سازی اطلاعات در دیتابیس بود تا از این طریق، زمینه برای استفاده در API‌ها، مدل‌های یادگیری ماشین و تحلیل‌های پیچیده‌تر فراهم شود.

### ویژگی‌ها و قابلیت‌ها
این پروژه در فاز اول، امکان استخراج و ذخیره‌سازی اطلاعات را از طریق دو پنل کاربری؛ یکی تحت کنسول و دیگری تحت وب، فراهم می‌آورد. امکان استخراج اطلاعات به صورت تکی یا گروهی از طریق آدرس محصول یا صفحه فروشنده، و همچنین استخراج دسته‌جمعی اطلاعات بر اساس دسته‌بندی‌ها یا جستجوهای خاص، مهیا شده است.

در این مرحله، اطلاعات استخراج‌شده قابل ذخیره‌سازی در دیتابیس و دریافت خروجی به فرمت CSV هستند، تا تحلیل و بررسی داده‌ها در شرایط مختلف امکان‌پذیر باشد. این کار از طریق منوی خروجی در هر دو حالت کنسول و وب قابل انجام است.

### راهنمای نصب 
برای راه‌اندازی و استفاده از این پروژ بعد از کلون کردن پروژه از گیت هاب نیاز به ساخت یک محیط مجازی برای نصب و راه‌اندازی کتابخانه‌های مورد نیاز این پروژه باشید بعد از نصب و راه‌اندازی محیط مجازی و کتاب خانه ها با راه‌اندازی یکی از پنل ها میتوانید پیکربندی های مورد نیاز را انجام دهید که شامل آدرس دهی وب درایور آدرس دهی دیتابیس انتخاب نوع مرورگر و انتخاب نوع کار مرورگر به صورت نرمال یا در پس زمینه انجام دهید و بعد میتوانید به پنل اجراشده دسترسی گرفته و شروع به استخراج اطلاعات از دیجی کالا کنید و زمانی که استخراج به پایان رسید با استفاده از منوی خروجی گرفتن خروجی فایل csv  مورد نیاز خود را دریافت کنید
```bash 
git clone https://github.com/rabbittx/Digikala-Crawler.git
cd Digikala-Crawler
python -m venv env 
source env/bin/activate # برای لینوکس
env/Scripts/activate # برای ویندوز 
pip install -r requirements.txt
# یکی از پنل ها را اجرا کنید . پنل کنسول یا پنل تحت وب 
python console_panel.py # برای استفاده از پنل کنسول
python app.py # برای استفاده از پنل تحت وب 
```
بعد از اجرای پنل باید کانفیک خزنده را انجام دهید 
- archive\gekcodrive\firefox\geckodriver.exe(مسیر پیشنهادی ) :  آدرس وب درایور 
- archive\dataBase\digikala_database.db(مسیر پیشنهادی ) : آدرس دیتابیس 
- firefox , chrome : نوع مرورگر
- نوع استفاده از مرورگر : headless mode , normal mode 

بعد از کانفیک خزنده با استفاده از پنل اجراشده میتوانید شروع به استخراج کنید و با استفاده از منوی خروجی گرفتن فایل خروجی مورد نظر خود را با فورمت csv تولید کنید 

### راهنمای استفاده 
# پنل کنسول 
بعد از کانفیک کردن خزنده و دسترسی به منو ها میتوانید شروع به استخراج اطلاعات کنید . با انتخاب گذیته مورد نظر 
 * *منوی اصلی خزنده *
   - `1`: *شروع استخراح دسته بندی یا جستجوی خاص با استفاده از آدرس صفحه*
   - `2`: *شروع استخراج اطلاعات یک فروشنده با استفاده از آدرس صفحه فروشنده*
   - `3`: *شروع به استخراج اطلاعات کامل محصولات یک فروشنده با تمام جزعیات با استفاده از ایدی ذخیره شده در دیتابیس(برای استفاده از این مورد باید قبلا صفحه فروشنده استخراج شده باشد)*
   - `4`: *استخراج کامل اطلاعت یک محصول با جزعیات کامل با استفاده از آدرس صفحه محصول*
   - `5`: *شروع به استخراج کامل اطلاعات تمام محصولات ذخیره شده در یتابس (در این روش محصولات ذخیره شده در دیتابیس یک به یک اطلاعاتشان با جزعیات کامل استخراج می شود)*
   - `6`: *دسترسی به منوی دریافت خروجی با فورمت csv*
   - `7`: *مشاهده ریپرت کامل از اطلاعات ذخیره شده در تیبل های دیتابیس*
   - `8`: *کامفیک مجدد خزنده*
   - `9`: *متوقف کردن و خروج از خزنده*
   - `help`': *نمایش منوی راهنما*     
    
 * *منوی دریافت خروجی با فورمت CSV*
    - `1` : *دریافت اطلاعات کامل همه فروشندگان*
    - `2` : *دیافت اطلاعات کامل محصولات یک فروشنده با استفاده از ایدی ذخیره شده در دیتابیس (برای استفاده از این روش باید ایدی ها در دیتابیس موجود باشند)*
    - `3` : *دریافت اطلاعات کامل محصولات ذخیره شده در دیتابیس*
    - `4` :*(برای استفاده از این روش باید ایدی ها در دیتابیس موجود باشند)دریافت اطلاعت کامل محصولات یک فروشنده با تمام جزعیات با استفاده از ایدی*
    - `5` : *دریافت اطلاعات کامل همه محصولات با جزعیات کامل*
    - `6` : *دریافت تمام اطلاعات ذخیره شده در دیتابیس*
    - `7` : *برگشت به منوی اصلی*

# پنل تحت وب 
در پنل تحت وب بخش ها و امکانات مشابه با پنل کنسول موجود است و تمام بخش ها در کادر های جدا گانه نشخص شده اند و قابل دسترسی و استفاده هستند و با کیلک بر روی کلید های سابمیت هر بخش قابل دسترسی و انجام عملیات مورد نظر هستند 

# مثال های از روش استفاده 
در پنل تحت کنسول برای دریافت آدرس صفحات در هر بخش مثال مورد نیاز نمایش داده می شود و در پنل تحت وب با کلیک بر روی گذینه help در نوبار صفحه نمونه آدرس ها را میتوانید مشاهده کنید همچنین نمونه آدرس های مورد نیاز هر بخش در قسمت `placeholder` هر فیلد ورودی قرار داده شده است 


### ساختار پروژه 
<div dir='rtl !important'>

```bash
.
├── README.fa.md #  فایل مستندات اولیه و راه‌اندازی سری پروژه به زبان فارسی 
├── README.md # فایل مستندات اولیه و راه‌اندازی سری پروژه به زبان انگلیسی
├── TODOS.py #
├── app.py # فایل رابط کاربری تحت وب (پنل تحت وب )
├── archive # فولدر ارشیو 
│   ├── dataBase #  فولدر ارشیو دیتابیس
│   │   └── digikala_database.db # فایل اصلی دیتابیس (آدرس پیش فرض برای دیتابیس در این مسیر است اما در کانفیک میتوانید تغییرش دهید )
│   ├── documents # فولدر مربوط به مستندات پروژه 
│   │   ├── documents.fa.md # فایل مربوط به این مستند به زبان فارسی 
│   │   ├── documents.md # فایل مربط به این مستند به زبان انگلیسی 
│   │   ├── functions.fa.md # فایل مربوط به مستندات کامل توابع به زبان فارسی 
│   │   ├── functions.md # فایل مربوط به مستندات کامل توابع به زبان انگلیسی 
│   │   └── www.digikala.com.png # تصویری از صفحه محصول و بخش های مخطلف برای استخراج
│   ├── gekcodrive # فولدر مربوط به ذخیره سازی وب درایور  
│   │   ├── chorme # فولدر مربوط به ذخیره سازی وب درایور کروم
│   │   │   └── chromedriver.exe # فایل وب درایور کروم با آدرس پیش فرض شما میتوانید این آدرس را در پیکربندی تغییر دهید 
│   │   └── firefox # فولدر مربوط به وب درایور کروم 
│   │       ├── geckodriver.exe # فایل وب درایور کروم شما میتوانید این آدرس پیش فرض را در کامفیک تغییر دهید 
│   │       └── geckodriver.log # فایل مربوط به لاگ های وب درایور 
│   └── logs # فولدر مربوط به ذخیره سازی لاگ های پروژه 
│       └── web_crawler_logs.txt #  فایل مربوط به ذخیره سازی لاگ ها از این فایل برای نمایش لاگ ها در پنل تحت وب استفاده می شود (ذخیره سازی لاگ های پنل تحت وب )
├── console-config.ini # فایل مربوط به ذخیره سازی پیکربندی پنل کنسول
├── console_panel.py #  فایل مربوط به اجرای پنل کنسول 
├── requirements.txt # فایل مربوط به کتابخانه های مورد نیاز پروژه 
├── source # فولدر ذخیره سازی سورس کد های پروژه 
│   ├── config.py # فایل مربوط به کلاس ها و توابع پیکربندی ها 
│   ├── db_handler.py # فایل مربوط به کلاس و توابع مربوط به کنترول دیتابیس 
│   ├── driver_manager.py # فایل مربوط به کلاس و توابع کنترول وب درایور
│   ├── logger.py # فایل مربوط به کلاس و توابع کنترول سیستم لاگ 
│   ├── product_details_extractor.py # فایل مربوط به کلاس و توابع مربوط به استخراج اطلاعات صفحه فروشنده و محصولات فروشنده 
│   ├── seller_product_data_extractor.py # فایل مربوط به استخراج اطلاعات کامل از صفحه محصول با جزعیات کامل
│   └── webScraper.py #   فایل مربوط به کلاس  و توابع کنترل خزنده 
├── static # فولدر ذخیره سازی فایل های استاتیک مربوط به رابط کاربری تحت وب 
│   ├── css # فولدر ذخیره سازی استایل ها 
│   │   └── style.css # فایل مربوط به ذخیره سازی استایل های رابط کاربری تحت وب 
│   └── js # فولدر ذخیره سازی اسکریپت های جاوا اسکریپت 
│       └── scripts.js # فایل مربوط به ذخیره سازی اسکریپت های جاوا اسکریپت  
├── templates # فولدر ذخیره سازی ساختار صفحات رابط کاربری تحت وب 
│   ├── base.html # فایل مربوط به ساختار صفحه 
│   ├── footer.html # فایل مربوط به فوتر صحفه 
│   ├── header.html # فایل مربوط به هدر صفحه
│   ├── index.html #  صفحه اصلی رابط کاربری تحت وب 
│   └── settings.html # فایل مربوط به تنظیمات و پیکربندی خزنده  
└── web_config.ini #  فایل مربوط به پیکربندی رابط کاربری تحت وب 

```
</div>
## مشارکت کنندگان

### چگونگی مشارکت
از همه کسانی که علاقه‌مند به مشارکت در این پروژه هستند، استقبال می‌شود. اگر مایل به ارائه تغییرات یا بهبودهایی هستید، لطفاً موارد زیر را دنبال کنید:

1. ابتدا، پروژه را Fork کنید.
2. سپس، یک Branch جدید برای تغییرات خود ایجاد کنید (`git checkout -b feature/AmazingFeature`).
3. تغییرات خود را Commit کنید (`git commit -m 'Add some AmazingFeature'`).
4. Branch خود را به GitHub Push کنید (`git push origin feature/AmazingFeature`).
5. یک Pull Request ارسال کنید.

### قوانین مشارکت
- **رعایت استانداردهای کدنویسی**: لطفاً از [PEP 8](https://www.python.org/dev/peps/pep-0008/), استاندارد رسمی سبک نوشتاری برای کد پایتون، پیروی کنید تا کد خوانا و یکدست باقی بماند.
- **تست**: قبل از ارسال Pull Request، لطفاً تست‌ها را اجرا کنید و مطمئن شوید تمامی تست‌ها با موفقیت اجرا می‌شوند.
- **داکیومنتاسیون**: اگر تغییرات شما نیاز به به‌روزرسانی داکیومنتاسیون دارد، لطفاً داکیومنتاسیون را نیز به‌روزرسانی کنید.

## لایسنس

این پروژه تحت لایسنس [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.en.html) منتشر شده است. این امر به این معناست که شما می‌توانید کد را کپی، تغییر، توزیع و/یا انتشار دهید تا زمانی که تغییرات و گسترش‌های اعمال شده نیز تحت همین لایسنس باقی بمانند. برای اطلاعات بیشتر در مورد شرایط و زمینه‌های استفاده، لطفاً به متن کامل لایسنس مراجعه کنید.

## پشتیبانی و جامعه

### راه‌های ارتباطی
ما به ایجاد یک جامعه حمایتی و فعال برای این پروژه اهمیت می‌دهیم. اگر سوالی دارید، به کمک نیاز دارید، یا می‌خواهید در مورد توسعه پروژه صحبت کنید، می‌توانید از طریق روش‌های زیر با ما و دیگر کاربران ارتباط برقرار کنید:

- **کانال Telegram**: ما یک گروه تلگرام  Telegram داریم که در آن اخبار و به‌روزرسانی‌های پروژه به اشتراک گذاشته می‌شود: [[لینک Telegram](https://t.me/+WQuE2hAke0FjZjI0)].


## لایسنس

این پروژه تحت لایسنس [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.en.html) منتشر می‌شود. GPL v3 یک لایسنس عمومی است که هر کسی را قادر می‌سازد تا کد منبع پروژه را کپی، توزیع، و/یا تغییر دهد تحت شرایط مشخصی که تضمین می‌کند آزادی‌های اصلی برای همه کاربران حفظ شود.

### خلاصه‌ای از شرایط اصلی GPL v3:

- **آزادی برای اجرا کردن برنامه، برای هر هدفی**.
- **آزادی برای مطالعه چگونگی کارکرد برنامه، و تغییر آن تا زمانی که به نیازهای شما پاسخ دهد. دسترسی به کد منبع این آزادی را ممکن می‌سازد**.
- **آزادی برای توزیع کپی‌هایی که به دیگران کمک می‌کند**.
- **آزادی برای بهبود برنامه، و انتشار بهبودهایتان به طوری که تمام جامعه از آن بهره‌مند شوند. دسترسی به کد منبع برای این آزادی ضروری است**.

با استفاده از GPL v3، شما نه تنها حق استفاده از کد و تغییر آن را دارید، بلکه موظف هستید هرگونه توزیع یا نسخه تغییر یافته‌ای از کد را نیز تحت همین لایسنس منتشر کنید، تا آزادی‌های اصلی برای همه کاربران حفظ شود.

برای اطلاعات بیشتر در مورد GPL v3 و شرایط دقیق آن، به [متن کامل لایسنس](https://www.gnu.org/licenses/gpl-3.0.en.html) مراجعه کنید.


- این پروژه صرفاً برای آموزش، جمع‌آوری اطلاعات به منظور استفاده در مدل‌های یادگیری ماشینی، تحلیل داده‌ها، و ایجاد یک دیتابیس جهت یادگیری توسعه یافته است. لطفاً از این پروژه به منظور افزایش ترافیک سرورهای دیجی‌کالا یا هر عملی که ممکن است به آنها آسیب برساند، جداً خودداری کنید. 
- زمان‌بندی‌هایی که برای استخراج اطلاعات در سورس کد قرار داده شده‌اند، نباید کاهش یابند تا از افزایش بی‌رویه بار بر سرورهای دیجی‌کالا جلوگیری شود.
- توسعه‌دهندگان هیچ مسئولیتی در قبال رفتار خرابکارانه یا سوءاستفاده از این پروژه ندارند.


# حمایت مالی

اگر از پروژه‌ای که ساخته‌ام لذت برده‌اید و تمایل دارید تا حمایت مالی خود را ارائه دهید، من از هر گونه کمکی قدردانی خواهم کرد. حمایت شما انگیزه‌ام را برای ادامه کار و توسعه‌ی بیشتر این پروژه و ایجاد پروژه‌های جدید افزایش می‌دهد و امکان می‌دهد تا زمان بیشتری را به بهبود و نوآوری در کارهایم اختصاص دهم.

در اینجا چند روش برای حمایت مالی از پروژه وجود دارد:

- **Patreon**: برای ارسال دونیت از طریق Patreon، لطفاً به [صفحه Patreon من](#لینک-صفحه-Patreon-خود-را-اینجا-قرار-دهید) مراجعه کنید.
- **Cryptocurrency**: اگر تمایل دارید با استفاده از رمزارزها حمایت کنید، اطلاعات والت من در [اینجا](#لینک-یا-آدرس-والت-Cryptocurrency-خود-را-اینجا-قرار-دهید) موجود است.
- **Buy Me a Coffee**: برای خرید یک قهوه برای من به عنوان نشانی از حمایت، لطفاً به [صفحه 'Buy Me a Coffee' من](#لینک-صفحه-Buy-Me-a-Coffee-خود-را-اینجا-قرار-دهید) بروید.

هر کمک مالی، صرف نظر از مقدار آن، بسیار قدردانی می‌شود و به من کمک می‌کند تا به کار بر روی پروژه‌هایی که علاقه زیادی به آنها دارم، ادامه دهم. با تشکر از همه شما برای حمایت و اعتمادتان.


</div>
  